{{ define "main" }}
  {{ $listWhere := .Params.listWhere }}
  <div class="prose lg:prose-xl prose-invert rounded-xl bg-gray-800/75 p-4">
    <h1>{{ .Title }}</h1>
    {{ .Content }}
  </div>
  {{ with .Pages }}
  <div class="md:container grid grid-cols-1 gap-6 p-2 sm:p-4 sm:grid-cols-2 not-prose"> 
      {{ if $listWhere }}
        {{ range where . "Params.categories" "intersect" (slice "recipe") }}
          {{- partial "inline/list/itemCover.html" . }}
        {{ end }}
      {{ else }}
        {{ range . }}
          {{- partial "inline/list/itemCover.html" . }}
        {{ end }}
      {{ end }}
  </div>
  
  {{ end }}
{{ end }}

{{- define "partials/inline/list/itemCover.html" }}
  <a href="{{ .RelPermalink }}" class="rounded-2xl bg-sky-100 transition-[filter] hover:brightness-90 dark:text-gray-200 text-gray-800 dark:bg-sky-800 dark:hover:brightness-110 no-underline" title="{{ .Title }}">
    <div class="h-100">
      <div class="p-5">
        <h2 class="text-lg font-semibold">{{ .LinkTitle }}</h2>
        <p class="font-normal">{{ .Summary }}</p>
        {{ if .Truncated }}
        <p>Read more...</p>
        {{ end }}
      </div>
    </div>
  </a>
  {{- end }}